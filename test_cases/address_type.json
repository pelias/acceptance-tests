{
  "name": "address type",
  "priorityThresh": 5,
  "description": [
    "These tests ensure that address records are stored in a layer which is distict from the POI layers",
    "see: https://github.com/pelias/openstreetmap/issues/29",
    "see: https://github.com/pelias/pelias/issues/60"
  ],
  "tests": [
    {
      "id": "1",
      "user": "missinglink",
      "endpoint": "search",
      "description": [
        "Ensure address records are stored in the 'osmaddress' layer."
      ],
      "in": {
        "text": "102 Fleet Street",
        "focus.point.lat": 51.53177,
        "focus.point.lon": -0.06672
      },
      "expected": {
        "properties": [
          {
            "id": "address-osmnode-1401849738",
            "layer": "address",
            "source": "osm"
          }
        ]
      }
    },
    {
      "id": "2",
      "user": "missinglink",
      "endpoint": "search",
      "description": [
        "Ensure address records are stored in the 'osmaddress' layer.",
        "Ensure POI records are cloned to 2x different layers",
        "related: test(3)"
      ],
      "in": {
        "text": "Shepherd and Flock",
        "focus.point.lat": 51.219671,
        "focus.point.lon": -0.779389
      },
      "expected": {
        "properties": [
          {
            "gid": "osm:venue:26489964",
            "layer": "venue",
            "source": "osm"
          }
        ]
      }
    },
    {
      "id": "3",
      "user": "missinglink",
      "endpoint": "search",
      "description": [
        "Ensure address records are stored in the 'osmaddress' layer.",
        "Ensure POI records are cloned to 2x different layers",
        "related: test(2)"
      ],
      "in": {
        "text": "22 Moor Park Lane",
        "focus.point.lat": 51.219671,
        "focus.point.lon": -0.779389
      },
      "expected": {
        "properties": [
          {
            "gid": "osm:address:poi-address-osmnode-26489964",
            "layer": "address",
            "source": "osm"
          }
        ]
      }
    }
  ]
}
